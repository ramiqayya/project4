{% extends "network/layout.html" %}

{% block body %}

{%if user.is_authenticated%}
<div class="col-auto mt-3 post-t">
    <form action="{% url 'index' %}" method="POST">
        {%csrf_token %}
        {{ new_post }}
        <input class="btn btn-primary mt-3" type="submit" value="Post">
    </form>
</div>
{%endif%}

{%for post in page_obj%}
<div>

    <h4>tweet: {{post.tweet}}</h4>
    <p>time: {{post.date_time}}</p>
    <p>likes: {{post.likes}}</p>
    <p>posted by: <a href="{%url 'profile' post.publisher_id%}">{{post.publisher}}</a></p>

</div>
{%endfor%}

<div class="pagination">
    <span class="step-links">
        {% if page_obj.has_previous %}
        <a href="?page=1">&laquo; first</a>
        <a href="?page={{ page_obj.previous_page_number }}">previous</a>
        {% endif %}

        <span class="current">
            Page {{ page_obj.number }} of {{ page_obj.paginator.num_pages }}.
        </span>

        {% if page_obj.has_next %}
        <a href="?page={{ page_obj.next_page_number }}">next</a>
        <a href="?page={{ page_obj.paginator.num_pages }}">last &raquo;</a>
        {% endif %}
    </span>
</div>


{% endblock %}